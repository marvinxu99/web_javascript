<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <style type="text/css">
    canvas { border: 1px solid black; }
  </style>
</head>
 
 <body onload="draw();">
  <p>test images in canvas</p>
  <div id="mycanvas">
    <canvas id="canvas" width="700" height="850"></canvas>
  </div>

  <script type="application/javascript">
    function draw() {
      const ctx = document.getElementById('canvas').getContext('2d');

      const img0 = new Image();
      img0.onload = function() {
        ctx.drawImage(img0, 0, 0);
        ctx.beginPath();
        ctx.moveTo(30, 96);
        ctx.lineTo(70, 66);
        ctx.lineTo(103, 76);
        ctx.lineTo(170, 15);
        ctx.stroke();
      };
      img0.src = 'https://mdn.mozillademos.org/files/5395/backdrop.png';

      // hello world
      ctx.font = '48px serif';
      ctx.fillText('Hello world', 300, 50);
      ctx.strokeText('Hello world', 300, 125);

      // draw image using data:url
      const img = new Image();   // Create new img element
      img.src = 'data:image/gif;base64,R0lGODlhCwALAIAAAAAA3pn/ZiH5BAEAAAEALAAAAAALAAsAAAIUhA+hkcuO4lmNVindo7qyrIXiGBYAOw=='; 
      img.onload = () => {
        ctx.drawImage(img, 10, 200)
      }

      const img2 = new Image();   // Create new img element
      img2.addEventListener('load', () => {
        ctx.drawImage(img2, 10, 250)
      }, false);
      img2.src = 'winter_logo.png'; // Set source path
    }

    // Set the background
    const set_background = () => {
      var c = document.createElement('canvas'),        
      ctx = c.getContext('2d'),
      cw = c.width = 200,
      ch = c.height = 200;

      for( var x = 0; x < cw; x++ ){
          for( var y = 0; y < ch; y++ ){
              ctx.fillStyle = 'hsl(0, 0%, ' + ( 100 - ( Math.random() * 15 ) ) + '%)';
              ctx.fillRect(x, y, 1, 1);
          }
      }

      //document.body.style.background = 'url(' + c.toDataURL() + ')';
      document.getElementById('mycanvas').style.backgroundImage = 'url(' + c.toDataURL() + ')';
    }
    set_background();

  </script>

</body>
</html>

